<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE testset SYSTEM "/usr/local/share/rtest.dtd">
<testset>
    <fileversion>0.1</fileversion>
    <var name="PYTHON_VERSION">py36</var>
    <var name="SKIP_HOST">#</var>
    <var name="SKIP_HOST_EXTENDED"></var>
    <var name="GPU_ARCH"></var>
    <var name="TEST_DIR">Tensile/Tests</var>
    <var name="TEST_MARKS">*</var>

    <test sets="psdb,osdb,host">
        <run name="host_tests">{SKIP_HOST} ./TensileTests {SKIP_HOST_EXTENDED} --gtest_output=xml:host_test_output.xml --gtest_color=yes</run>
    </test>
    <test sets="psdb">
        <run name="pre_checkin">tox -v --workdir /tmp/.tensile-tox -e {PYTHON_VERSION} -- {TEST_DIR} -m "pre_checkin" --timing-file=$PWD/timing-{GPU_ARCH}.csv</run>
    </test>
    <test sets="osdb">
        <run name="pre_checkin_extended">tox -v --workdir /tmp/.tensile-tox -e {PYTHON_VERSION} -- {TEST_DIR} -m "pre_checkin or extended" --timing-file=$PWD/timing-{GPU_ARCH}.csv</run>
    </test>
    <test sets="custom">
        <run name="custom_marks">tox -v --workdir /tmp/.tensile-tox -e {PYTHON_VERSION} -- {TEST_DIR} -m "{TEST_MARKS}" --timing-file=$PWD/timing-{GPU_ARCH}.csv</run>
    </test>
</testset>
